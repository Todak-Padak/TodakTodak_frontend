<template>
  <v-app>
    <v-container class="custom-container">
      <v-spacer :style="{ height: '50px' }"></v-spacer>
      
      <!-- TODO: cycle 옵션 붙여야됨 -->
       <!-- 배너 carousel -->
      <v-carousel
        class="custom-carousel"
        show-arrows="hover"
        
        hide-delimiter-background
      >
        <v-carousel-item
          v-for="(slide, i) in slides" :key="i"
        >
          <v-img :src="slide"></v-img>
        </v-carousel-item>
      </v-carousel>
      
      <v-spacer></v-spacer>

      <!-- 우리동네 인기 소아과 타이틀 -->
      <v-row justify="center" align="center">
        <h2 style="font-weight: bold;">🏥 우리동네 인기 소아과</h2>
      </v-row>

      <v-row justify="center" align="center" class="mt-3">
        <h5 style="text-align: center; color: #828282;">
          평점으로 검증된 우리동네 소아과
        </h5>
      </v-row>

      <v-spacer :style="{ height: '30px' }"></v-spacer>

      <v-container style="background-color: #F5F5F5; border-radius:15px; max-width: 1200px;">
        <!-- 위치 gps -->
        <v-row class="mt-2 ml-2">
          <v-btn variant="flat" size="large" style="background-color: #F5F5F5;">
            <h5 style="font-weight:bold;"> 
              📍 {{dong}}
              <v-icon class="custom-width ml-n1"> mdi-chevron-down</v-icon>
            </h5>
          </v-btn>
        </v-row>
        <!-- 인기소아과 carousel 컴포넌트-->
        <v-row justify="center" class="mt-n2">
          <HospitalCarousel 
          :windowCount="2" 
          :hospitalList="hospitalList"
          />
        </v-row>
        <!-- 주변 소아과 더보기 버튼 -->
        <v-row justify="center" style="margin-top: -20px;">
          <v-btn
              class="custom-button"
              style="background-color: #E6E6E6;"
              text :to="{path:'/hospital/list'}"
              variant="flat"
          >주변소아과 더보기</v-btn>
        </v-row> 

         <v-spacer :style="{height: '30px'}"></v-spacer>
      </v-container>

      <v-spacer :style="{height: '50px'}"></v-spacer>

      <!-- 비대면진료 title -->
      <v-row justify="center" align="center">
        <h2 style="font-weight: bold;">🏠 비대면 진료</h2>
      </v-row>
      <!-- 비대면진료 sub-title -->
      <v-row justify="center" align="center">
        <h5 style="text-align: center; color: #828282;">
            집에서도 편하게 비대면진료 받으세요!
        </h5>
      </v-row>

      <v-spacer :style="{ height: '30px' }"></v-spacer>

      <!-- 비대면 의사 인기리스트 carousel -->
      <v-container>
         <v-row>
          <DoctorCarousel
          :windowCount="2"
          :doctorList="doctorList"
          />
         </v-row>
      </v-container>

      <v-spacer :style="{ height: '30px' }"></v-spacer>

      <!-- 의사Q&A title -->
      <v-row justify="center" align="center">
        <h2 style="font-weight: bold;">💬 의사 Q&A </h2>
      </v-row>
      <!-- 의사Q&A sub-title -->
      <v-row justify="center" align="center">
        <h5 style="text-align: center; color: #828282;">
            우리 아이 건강, 전문가와 직접 소통하세요
        </h5>
      </v-row>

      <v-spacer :style="{ height: '30px' }"></v-spacer>

      <!-- 의사 Q&A 인기리스트  -->
      <v-container>
        <v-row>
          <v-col cols="12" v-for="post in communityList" :key="post.id">
            <v-card
            variant="outlined"
            class="post-card justify-center"
            >
              <div class="d-flex flex-no-wrap justify-space-between">
                <div class="ml-3 mt-3">
                  <!-- 게시글 제목 -->
                  <v-card-title style="font-weight:bold; font-size:25px;">
                    {{ post.title }}
                  </v-card-title>

                  <!-- 게시글 내용 -->
                  <v-card-text class="post-content mb-n2" style="font-size: 20px;">
                    {{ post.content ? post.content.slice(0,53) : '' }}
                  </v-card-text>

                  <!-- 좋아요, 댓글수, 조회수, 작성일시 -->
                  <v-card-text style="font-size: 18px; color:#6A6A6A">
                    <v-icon style="color:#0075FF; font-size: 20px;" class="mt-n1">mdi-heart</v-icon> 
                    {{ post.likeCount }} · 댓글 {{ post.comments }} · 조회수 {{ post.viewCount }} · {{ post.createdTimeAt.slice(0, 10) }}
                  </v-card-text>
                </div>

                <v-avatar
                class="ma-5"
                style="height:130px; width:150px; border-radius: 10px; object-fit:cover;"
                >
                <!-- 게시글 사진 -->
                  <v-img :src="post.postImgUrl" />
                </v-avatar>

              </div>

            </v-card>

          </v-col>
        </v-row>
      </v-container>
      
    </v-container>
  </v-app> 
</template>

<script>
import HospitalCarousel from '@/components/carousel/HospitalCarousel.vue';
import DoctorCarousel from '@/components/carousel/DoctorCarousel.vue';

export default {
  components: { 
    HospitalCarousel,
    DoctorCarousel,
   },
  name: "App",
  data(){
    return{
      banner1: 'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/%E1%84%87%E1%85%A2%E1%84%82%E1%85%A51+Group+989000.png',
      banner2: 'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/padak-banner.png',
      banner3: '',
      slides: [
        'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/%E1%84%87%E1%85%A2%E1%84%82%E1%85%A51+Group+989000.png',
        'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/padak-banner.png',
      ],
      dong:'성수동 2가',
      // 인기소아과 데이터 
      keywordList: ['주차장', '전문의', '예방접종'],
      hospitalList:[
        {id:'1', hospitalImageUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/hospital-example-image.png', name: '삼성화곡소아청소년과', averageRating:'4.5', reviewCount:'32', address: '서울 강남구 삼성로14 (개포자이 프레지던스) 자이스퀘어 상가 216호', keywordList: ['예방접종', '주차장', '전문의']},
        {id:'2', hospitalImageUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/hospital1.jpeg', name: '연세드림소아청소년과', averageRating:'4.5', reviewCount:'32', address: '서울 강남구 삼성로14 (개포자이 프레지던스) 자이스퀘어 상가 216호', keywordList: ['예방접종', '주차장', '전문의']},
        {id:'3', hospitalImageUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/hospital2.png', name: '아이조은청소년과', averageRating:'4.5', reviewCount:'32', address: '서울 강남구 삼성로14 (개포자이 프레지던스) 자이스퀘어 상가 216호', keywordList: ['예방접종', '주차장', '전문의']},
        {id:'4', hospitalImageUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/hospital1.jpeg', name: '방은지소아청소년과', averageRating:'4.5', reviewCount:'32', address: '서울 강남구 삼성로14 (개포자이 프레지던스) 자이스퀘어 상가 216호', keywordList: ['예방접종', '주차장', '전문의']},
        {id:'5', hospitalImageUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/hospital1.jpeg', name: '김창현소아청소년과', averageRating:'4.5', reviewCount:'32', address: '서울 강남구 삼성로14 (개포자이 프레지던스) 자이스퀘어 상가 216호', keywordList: ['예방접종', '주차장', '전문의']},
        {id:'6', hospitalImageUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/hospital1.jpeg', name: '무무소아청소년과', averageRating:'4.5', reviewCount:'32', address: '서울 강남구 삼성로14 (개포자이 프레지던스) 자이스퀘어 상가 216호', keywordList: ['예방접종', '주차장', '전문의']},
      ],
      doctorList:[
        {id:'1', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/male-doctor.png', doctorName:'신현도', hospitalName:'아이조은청소년과', reviewPoint:'4.5', reviewCount:'32' },
        {id:'2', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/female-doctor.png', doctorName:'김현지', hospitalName:'삼성화곡청소년과', reviewPoint:'4.5', reviewCount:'32' },
        {id:'3', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/male_doctor.png', doctorName:'박연세', hospitalName:'연세아이청소년과', reviewPoint:'4.5', reviewCount:'32' },
        {id:'4', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/female_doctor.png', doctorName:'방박사', hospitalName:'아이조은청소년과', reviewPoint:'4.5', reviewCount:'32' },
        {id:'5', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/male_doctor.png', doctorName:'최무무', hospitalName:'연세드림청소년과', reviewPoint:'4.5', reviewCount:'32' },
        {id:'6', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/female_doctor.png', doctorName:'창창핑', hospitalName:'티니핑청소년과', reviewPoint:'4.5', reviewCount:'32' },
        {id:'7', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/female-doctor.png', doctorName:'껄무새', hospitalName:'할껄말껄청소년과', reviewPoint:'4.5', reviewCount:'32' },
        {id:'8', profileImg:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/male-doctor.png', doctorName:'우하하', hospitalName:'아이조은청소년과', reviewPoint:'4.5', reviewCount:'32' },
      ],
      communityList: [
        {id:'1', title: '예방접종 후 목욕', content:'A형간염이랑 Dtap 4차를 접종했는데 당일 저녁에 목욕해도되나요? A형간염이랑 Dtap 4차를 접종했는데 당일 저녁에 목욕해도되나요?', postImgUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/moruncar.jpg', likeCount:'21', comments:'13', viewCount:'212', createdTimeAt:"2024-10-11T14:21:14" },
        {id:'2', title: '예방접종 후 목욕', content:'A형간염이랑 Dtap 4차를 접종했는데 당일 저녁에 목욕해도되나요?', postImgUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/moruncar.jpg', likeCount:'21', comments:'13', viewCount:'212', createdTimeAt:"2024-10-11T14:21:14" },
        {id:'3', title: '예방접종 후 목욕', content:'A형간염이랑 Dtap 4차를 접종했는데 당일 저녁에 목욕해도되나요?', postImgUrl:'https://todak-file.s3.ap-northeast-2.amazonaws.com/default-images/moruncar.jpg', likeCount:'21', comments:'13', viewCount:'212', createdTimeAt:"2024-10-11T14:21:14" },
      ],
    };
  },
  mounted() {
    // mounted 후에 slides 배열에 배너를 추가
    // this.slides = [this.banner1, this.banner2];
  }
};
</script>

<style>
html, body {
  height: 100%;
  margin: 0;
}

.v-application {
  background-color: #f5f5f5;
}
.custom-carousel{
  width: 1100px;
  height: 450px;
}
.post-card{
  border: 1px solid #D2D2D2 !important; /* 테두리 색상만 변경 */
  border-radius: 20px !important; /* 모서리 둥글기 */
  background-color: #FCFCFC !important; /* 카드 내부 배경색 고정 */
  margin: 0 auto;
  max-width: 1000px;
}
.post-content{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: #6A6A6A;
}
</style>
